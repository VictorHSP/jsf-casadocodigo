<!-- /components/filter.xhtml -->
<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:ui="jakarta.faces.facelets"
              xmlns:h="jakarta.faces.html"
              xmlns:f="jakarta.faces.core">

   <script>
      function toggleSidebar() {
         const sidebar = document.getElementById('sidebar');
         sidebar.classList.toggle('open');
      }
   </script>
   <h:outputStylesheet library="css" name="admin/filter.css" />

   <aside class="sidebar" id="sidebar">
      <i class="fas fa-times" title="Fechar"
         style="cursor: pointer; color: #161d34; font-size: 1.5rem; display: flex;
               flex-direction: row-reverse; justify-content: right; margin-right: 12px;"
         onclick="toggleSidebar()"/>
      <h2>Filtros</h2>
      <hr/>

      <h:form styleClass="form-filter">
         <div style="flex-grow: 1; overflow-y: auto;">

            <div class="form-field full-width">
               <h:outputLabel value="ID" for="id"/>
               <h:inputText id="id" autocomplete="off" value="#{filterBean.filter.id}"  >
                  <f:convertNumber integerOnly="true" />
               </h:inputText>
               <h:message for="id" styleClass="form-field-message"/>
            </div>

            <div class="form-field full-width">
               <h:outputLabel value="Nome" for="name"/>
               <h:inputText id="name" autocomplete="off" value="#{filterBean.filter.name}" />
            </div>

            <div class="form-field full-width">
               <h:outputLabel value="Email" for="email"/>
               <h:inputText id="email" autocomplete="off" value="#{filterBean.filter.email}" >
                  <f:validator validatorId="br.com.ebookofcode.EmailValidator" />
               </h:inputText>
               <h:message for="email" styleClass="form-field-message" />
            </div>

         </div>

         <div style="margin-bottom: 5rem">
            <h:commandButton styleClass="btn-default btn-filter" value="Aplicar Filtros" onclick=""
               action="#{filterBean.filter()}" title="Aplicar Filtros" >
               <f:ajax execute="@form" render="@form#{dataTableTarget}" />
            </h:commandButton>
         </div>
      </h:form>
   </aside>
</ui:component>
